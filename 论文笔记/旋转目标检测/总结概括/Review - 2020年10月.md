# 旋转目标检测

**本次旋转目标检测的笔记是针对即将进行的火箭军AI大赛科目四做的相关调研，总结了截止2020年10月以来，在遥感图像的小目标、密集、任意方向下的旋转目标检测方法，以及当前已有方法下仍旧存在的问题，并提出一些自己的见解和想法。如有纰误，敬请指正。**

<br>

## 一、笔记介绍

* 目前目标检测的工作集中在三个方面：**水平区域目标检测(Horizontal region object detection)，任意方向目标检测(Arbitrary-oriented object detection)，方位信息分类(Classification for orientation information)**。**水平区域目标检测**即为经典的目标检测方法，旨在利用常规水平框检测图像的目标，如`FasterRCNN`，`YOLO`，`SSD`是常见的**Anchor-based**的方法，而`CenterNet`，`CornerNet`则是**Anchor-free**的方法；**任意方向目标检测**则是希望对任意方向上的目标能够用一个四边形的框更准确的表示物体的范围，主流的方法可分为三种：基于旋转候选框的五参数法、基于候选框顶点偏移的八参数法和基于极坐标角度回归的五参数法。常见Baseline有`ICN`，`	ROI-Transformer`，`SCRDet`，`R3Det`等方法。最后一种**方位信息分类**的方法则是用于诸如人脸方向检测等，不在该笔记的讨论之内。
* 遥感旋转检测研究比文字晚一些，目前也有方法是从文字检测中迁移过来，但个人认为如果从旋转框角度来做的话，遥感更难。毕竟文字是单类别，很多方法都是提出有针对性的tricks，而遥感更需要考虑不同物体的类别，直接放到遥感就不适用。遥感的旋转目标检测需要考虑更general的思路，其难点主要包括小目标 （small objects）、密集 （cluttered arrangement）、方向任意（arbitrary orientations）。

* 根据已有的代表性方法（不完全统计，更多统计的点击**第5.1节的链接[3]**），按照是否基于Anchor，单/两阶段，参数类型进行分类：

  |       Model        |   Backbone   |                          Paper Link                          | Stage  |    Anchor    |                          Parameters                          |
  | :----------------: | :----------: | :----------------------------------------------------------: | :----: | :----------: | :----------------------------------------------------------: |
  |  R<sup>3</sup>Det  |  ResNet152   |        [HRSC 2016](https://arxiv.org/abs/1908.05612)         | Single | Anchor-based |                   5-Params: Center+(w,h)+θ                   |
  |  R<sup>2</sup>CNN  |  ResNet101   |        [CVPR 2017](https://arxiv.org/abs/1706.09579)         |  Two   | Anchor-based |                  5-Params: (x1,y1,x2,y2,h)                   |
  |       SCRDet       |  ResNet101   | [ICCV 2019](http://openaccess.thecvf.com/content_ICCV_2019/papers/Yang_SCRDet_Towards_More_Robust_Detection_for_Small_Cluttered_and_Rotated_ICCV_2019_paper.pdf) |  Two   | Anchor-based |                   5-Params: Center+(w,h)+θ                   |
  |   Gliding Vertex   |  ResNet101   |  [TPAMI 2019](https://ieeexplore.ieee.org/document/9001201)  | Single | Anchor-free  | 8-Params: Center+(w,h)+(a<sub>1</sub>,a<sub>2</sub>,a<sub>3</sub>,a<sub>4</sub>) |
  |      P-RSDet       |  ResNet101   |     [arXiv:2001.02988](https://arxiv.org/abs/2001.02988)     | Single | Anchor-free  |    5-Params: Center+*ρ*+(*θ<sub>1</sub>*,*θ<sub>2</sub>*)    |
  | O<sup>2</sup>-DNet | Hourglass104 |     [arXiv:1912.10694](https://arxiv.org/abs/1912.10694)     | Single | Anchor-free  | 8-Params: Center+(Δx<sub>1</sub>,Δx<sub>2</sub>,Δy<sub>1</sub>,Δy<sub>2</sub>) |
  |     BBAVector      |  ResNet101   |        [WACV 2021](https://arxiv.org/abs/2008.07043)         | Single | Anchor-free  |      12-Params: Center+(**t**,**r**,**l**,**b**)+(w,h)       |

<br>

## 二、旋转目标检测框架

#### 2.1 Center+(w,h)+θ 五参数法





#### 2.2 Center+(Δx<sub>1</sub>,Δx<sub>2</sub>,Δy<sub>1</sub>,Δy<sub>2</sub>) 八参数法





#### 2.3 Center+*ρ*+(*θ<sub>1</sub>*,*θ<sub>2</sub>*) 极坐标五参数法





#### 2.4 Center+(**t**,**r**,**l**,**b**)+(w,h) 向量感知



<br>

## 三、旋转目标检测优化

#### 3.1 量纲不一致



#### 3.2 回归边界问题



#### 3.3 损失不连续



<br>

## 三、方法总结





<br>

## 四、个人思考



<br>

## 五、参考资料

#### 5.1 相关链接

* ECCV2020｜遥感旋转目标检测方法解读：http://www.360doc.com/content/20/0708/21/32196507_923054270.shtml
* 知乎 | 遥感目标检测相关论文：https://zhuanlan.zhihu.com/p/98703562
* GITHUB | DOTA 数据集相关的代码库：https://github.com/SJTU-Thinklab-Det/DOTA-DOAI
* 上交大牛 YangXue | 遥感目标检测个人论文说明：https://www.zhihu.com/people/flyyoung-68/posts

<br>

#### 5.2 参考论文

* [1] Yang X , Yan J . **Arbitrary-Oriented Object Detection with Circular Smooth Label**. *ECCV*. 2020.
* [2] Zhou X, Wang D, Krähenbühl P. **CenterNet: Objects as points**. *CVPR*. 2019.
* [3] Qian W, Yang X, Peng S, et al. **RSDet: Learning modulated loss for rotated object detection**. *CVPR*. 2019.
* [4] Yang X, Yang J, Yan J, et al. **SCRDet: Towards more robust detection for small, cluttered and rotated objects**. *CVPR*. 2019.
* [5] Xu Y, Fu M, Wang Q, et al. **Gliding vertex on the horizontal bounding box for multi-oriented object detection**. *TPAMI*. 2020.
* [6] Zhou L, Wei H, Li H, et al. **O2-DNet: Objects detection for remote sensing images based on polar coordinates**. *arXiv:2001.02988*. 2020.
* [7] Wei H, Zhou L, Zhang Y, et al. **P-RSDet: Oriented objects as pairs of middle lines**. *arXiv:1912.10694*. 2019.
* [8] Yi J, Wu P, Liu B, et al. **Oriented Object Detection in Aerial Images with Box Boundary-Aware Vectors**. *WACV*. 2020.

<br>